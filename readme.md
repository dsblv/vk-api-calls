# vk-api-calls

> Yet another VK API wrapper for Node.js & io.js.


## Usage

```js
var VK = vkApiCalls({
  clientId     : 'CLIENT_ID',
  clientSecret : 'CLIENT_SECRET',
  redirectUri  : 'REDIRECT_URI'
});

// then you might need access token
// to get it, follow the link generated by VK.renderAuthUrl()
// if everything is OK, VK will redirect you back to your redirect_uri
// with CODE as a query parameter
// use this CODE to perform auth

VK.performSiteAuth({code : 'CODE YOU JUST RECEIVED'})
  .then(function () {
    victoryDance();
  });

```


## API

### vkApiCalls([options][, session])

#### options

Options required by VK API:

```js
{
  clientId     : 'CLIENT_ID',
  clientSecret : 'CLIENT_SECRET',
  redirectUri  : 'REDIRECT_URI',
  apiVersion   : '5.1' // you can omit this, default version is 5.37
}
```

#### session

Session data: user id, access token and when it expires:

```js
{
  userId  : 'USER_ID',
  token   : 'ACCESS_TOKEN',
  expires : 1440163431337
}
```

This will help you not to perform authentication each time user visits your page. Save this in your session storage and use until it's espired.

### 

## License

MIT Â© [Dmitriy Sobolev](http://vk.com/sobo13v)
